<div class="container">
  <div class="row justify-content-center">
    <div [class] = "tableContainerClass">
      <table class="table table-striped table-fixed">
        <thead>
          <tr>
            <th>Username</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Password</th>
            <th>Date of Birth</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let user of users; index as i">
            <tr *ngIf="!user.editable" [ngClass]="i % 2 === 0 ? 'table-primary' : 'table-secondary'">
              <td>{{ user.username }}</td>
              <td>{{ user.first_name }}</td>
              <td>{{ user.last_name }}</td>
              <td>{{ user.email }}</td>
              <td>****</td>
              <td>{{ user.date_of_birth | date }}</td>
              <td>
                <button (click)="editUser(user)" class="btn btn-secondary">Edit</button>
              </td>
              <td>
                <button (click)="confirmDeleteUser(user.id)" class="btn btn-secondary">Delete</button>
              </td>
            </tr>
            <tr *ngIf="user.editable">
              <td>
                <input type="text" [(ngModel)]="user.username">
              </td>
              <td>
                <input type="text" [(ngModel)]="user.first_name">
              </td>
              <td>
                <input type="text" [(ngModel)]="user.last_name">
              </td>
              <td>
                <input type="text" [(ngModel)]="user.email">
              </td>
              <td>
                <input type="password" [(ngModel)]="user.password">
              </td>
              <td>
                <input type="date" [(ngModel)]="user.date_of_birth">
              </td>
              <td class="px-2">
                <button (click)="saveUser(user)" class="btn btn-secondary">Save</button>
              </td>
              <td>
                <button (click)="cancelEdit(user)" class="btn btn-secondary">Cancel</button>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>
